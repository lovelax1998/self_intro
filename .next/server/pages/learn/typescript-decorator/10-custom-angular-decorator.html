<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@site"/><meta name="twitter:creator" content="@handle"/><meta property="og:image:alt" content="luotianyou&#x27;s coding journey og-image"/><meta property="og:image:width" content="800"/><meta property="og:image:height" content="600"/><meta property="og:image" content=""/><meta property="og:image:alt" content="luotianyou&#x27;s coding journey og-image"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image" content=""/><meta property="og:image:alt" content="luotianyou&#x27;s coding journey og-image"/><meta property="og:image:width" content="1600"/><meta property="og:image:height" content="900"/><link rel="preload" as="image" imageSrcSet="/_next/image?url=%2Fimages%2Flty.jpg&amp;w=128&amp;q=100 1x, /_next/image?url=%2Fimages%2Flty.jpg&amp;w=256&amp;q=100 2x" fetchpriority="high"/><title>Learn Typescript Decorator : 10. A Useful Custom Decorator in Angular - luotianyou</title><meta name="robots" content="index,follow"/><meta name="description" content="Learn Typescript Decorator - 10. A Useful Custom Decorator in Angular with detailed explanations"/><meta property="og:title" content="Learn Typescript Decorator : 10. A Useful Custom Decorator in Angular - luotianyou"/><meta property="og:description" content="Learn Typescript Decorator - 10. A Useful Custom Decorator in Angular with detailed explanations"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2024-03-05"/><meta property="article:modified_time" content="2024-03-05"/><meta property="article:author" content="luotianyou"/><meta property="og:image"/><meta property="og:site_name" content="luotianyou"/><meta name="next-head-count" content="28"/><link rel="apple-touch-icon" sizes="57x57" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="60x60" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="72x72" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="76x76" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="114x114" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="120x120" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="144x144" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="152x152" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="180x180" href="/images/logo.jpg"/><link rel="icon" type="image/png" sizes="192x192" href="/images/logo.jpg"/><link rel="icon" type="image/png" sizes="32x32" href="/images/logo.jpg"/><link rel="icon" type="image/png" sizes="96x96" href="/images/logo.jpg"/><link rel="icon" type="image/png" sizes="16x16" href="/images/logo.jpg"/><link rel="preload" href="/_next/static/media/2b3f1035ed87a788-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/122c360d7fe6d395-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/a2117d63e64fe351-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/2f26b0ea482afd5a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2f26b0ea482afd5a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-e9ff243a1e13f503.js" defer=""></script><script src="/_next/static/chunks/framework-4b14d76c1e57931c.js" defer=""></script><script src="/_next/static/chunks/main-aa1490b0a7afc2fd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-89eb75bf250ca039.js" defer=""></script><script src="/_next/static/chunks/576b63aa-6089ace378e50cf6.js" defer=""></script><script src="/_next/static/chunks/989-c2c626898eb9f55f.js" defer=""></script><script src="/_next/static/chunks/175-b7b1985d8f3a5510.js" defer=""></script><script src="/_next/static/chunks/352-fea68a2a3b0b08ff.js" defer=""></script><script src="/_next/static/chunks/pages/learn/%5Bcontent%5D/%5Bslug%5D-2ad1551d1060d845.js" defer=""></script><script src="/_next/static/GiGSHyiQIUIlLDeXZc_tY/_buildManifest.js" defer=""></script><script src="/_next/static/GiGSHyiQIUIlLDeXZc_tY/_ssgManifest.js" defer=""></script><style id="__jsx-528159491">html{--jakartaSans-font:'__Plus_Jakarta_Sans_b457f1', '__Plus_Jakarta_Sans_Fallback_b457f1';--soraSans-font:'__Sora_071650', '__Sora_Fallback_071650';--firaCode-font:'__Fira_Code_74c79e', '__Fira_Code_Fallback_74c79e'}</style></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&false)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}else{c.add('dark')}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'dark'}catch(e){}}()</script><div class="max-w-6xl mx-auto lg:px-8"><div class="flex flex-col xl:pb-8"><header><div class="hidden lg:flex gap-5 items-center justify-between py-8 mx-8"><div class="flex items-center gap-5"><a href="/"><div class="overflow-hidden h-full animate-pulse rounded-full"><img alt="luotianyou" loading="lazy" width="40" height="40" decoding="async" data-nimg="1" class="duration-700 ease-in-out scale-[1.02] blur-xl grayscale rounded-full lg:hover:scale-105" style="color:transparent" srcSet="/_next/image?url=%2Fimages%2Flty.jpg&amp;w=48&amp;q=100 1x, /_next/image?url=%2Fimages%2Flty.jpg&amp;w=96&amp;q=100 2x" src="/_next/image?url=%2Fimages%2Flty.jpg&amp;w=96&amp;q=100"/></div></a><div class="flex items-center gap-3"><a href="/"><h2 class="flex-grow text-lg lg:text-xl font-sora font-medium">一杯清露冷如冰</h2></a><div class="relative inline-block"><div class="tooltip-container relative"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="text-blue-400" data-aos="flip-right" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M23 12l-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72l-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"></path></svg></div></div></div></div><div class="flex justify-between items-center gap-5"><style data-emotion="css oxsnso">.css-oxsnso .mode-toggle{width:0;height:0;margin:0;display:none;}.css-oxsnso .mode-toggle+label{display:inline-block;cursor:pointer;border-radius:25px;position:relative;}.css-oxsnso .mode-toggle+label::after{content:'';display:block;position:absolute;top:0;right:0;bottom:0;left:0;border-radius:1000px;-webkit-transition:box-shadow 150ms ease-in-out;transition:box-shadow 150ms ease-in-out;}.css-oxsnso .mode-toggle+label svg{vertical-align:middle;}.css-oxsnso .mode-toggle+label .source{-webkit-transition:fill,-webkit-transform 250ms ease-in-out;transition:fill,transform 250ms ease-in-out;}.css-oxsnso .mode-toggle+label .bg-stop-start,.css-oxsnso .mode-toggle+label .bg-stop-end{-webkit-transition:stop-color 150ms ease-in-out;transition:stop-color 150ms ease-in-out;}.css-oxsnso .mode-toggle+label .stars{-webkit-transition:50ms ease-in-out;transition:50ms ease-in-out;}.css-oxsnso .mode-toggle+label::after{box-shadow:inset 0 0 2px rgba(0, 0, 0, 0.25);}.css-oxsnso .mode-toggle+label .source{fill:#f7f7e7;-webkit-transform:translate(70%, 50%);-moz-transform:translate(70%, 50%);-ms-transform:translate(70%, 50%);transform:translate(70%, 50%);}.css-oxsnso .mode-toggle+label .bg-stop-start{stop-color:#93d4cc;}.css-oxsnso .mode-toggle+label .bg-stop-end{stop-color:#c7dfc3;}.css-oxsnso .mode-toggle+label .stars{-webkit-transform:translateX(100%);-moz-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}.css-oxsnso .mode-toggle:checked+label::after{box-shadow:none;}.css-oxsnso .mode-toggle:checked+label .source{fill:#ffffff;-webkit-transform:translate(30%, 50%);-moz-transform:translate(30%, 50%);-ms-transform:translate(30%, 50%);transform:translate(30%, 50%);}.css-oxsnso .mode-toggle:checked+label .bg-stop-start{stop-color:#173754;}.css-oxsnso .mode-toggle:checked+label .bg-stop-end{stop-color:#388296;}.css-oxsnso .mode-toggle:checked+label .stars{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}.css-oxsnso .mode-toggle:checked+label .star-1,.css-oxsnso .mode-toggle:checked+label .star-2,.css-oxsnso .mode-toggle:checked+label .star-3{-webkit-animation-name:star;animation-name:star;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;}.css-oxsnso .mode-toggle:checked+label .star-1{-webkit-animation-delay:0s;animation-delay:0s;}.css-oxsnso .mode-toggle:checked+label .star-2{-webkit-animation-delay:0.5s;animation-delay:0.5s;}.css-oxsnso .mode-toggle:checked+label .star-3{-webkit-animation-delay:1s;animation-delay:1s;}@-webkit-keyframes star{50%{opacity:0.25;}}@keyframes star{50%{opacity:0.25;}}</style><div class="flex css-oxsnso"><input type="checkbox" class="mode-toggle" id="switch-theme" data-umami-event="Switch to Light Mode"/><label class="mode-toggle-label" for="switch-theme"><svg width="45" height="25" viewBox="0 0 300 170" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="bg-night"><stop class="bg-stop-start" offset="0%"></stop><stop class="bg-stop-end" offset="100%"></stop></linearGradient><filter id="glow"><feDropShadow dx="0" dy="0" stdDeviation="8" flood-color="#ffffff" flood-opacity="0.75"></feDropShadow></filter><filter id="glow-mini"><feDropShadow dx="0" dy="0" stdDeviation="0.5" flood-color="#ffffff" flood-opacity="0.5"></feDropShadow></filter></defs><rect class="bg" width="300" height="170" rx="90" ry="90" fill="url(#bg-night)"></rect><circle class="source" cx="0" cy="0" r="70" fill="#ffffff" style="filter:url(#glow)"></circle><g class="stars"><circle class="star-1" cx="190" cy="50" r="4" fill="#ffffff" style="filter:url(#glow-mini)"></circle><circle class="star-2" cx="250" cy="70" r="4" fill="#ffffff" style="filter:url(#glow-mini)"></circle><circle class="star-3" cx="220" cy="130" r="6" fill="#ffffff" style="filter:url(#glow-mini)"></circle></g></svg></label></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="cursor-pointer" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M6 14c-2.206 0-4 1.794-4 4s1.794 4 4 4a4.003 4.003 0 0 0 3.998-3.98H10V16h4v2.039h.004A4.002 4.002 0 0 0 18 22c2.206 0 4-1.794 4-4s-1.794-4-4-4h-2v-4h2c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4v2h-4V5.98h-.002A4.003 4.003 0 0 0 6 2C3.794 2 2 3.794 2 6s1.794 4 4 4h2v4H6zm2 4c0 1.122-.879 2-2 2s-2-.878-2-2 .879-2 2-2h2v2zm10-2c1.121 0 2 .878 2 2s-.879 2-2 2-2-.878-2-2v-2h2zM16 6c0-1.122.879-2 2-2s2 .878 2 2-.879 2-2 2h-2V6zM6 8c-1.121 0-2-.878-2-2s.879-2 2-2 2 .878 2 2v2H6zm4 2h4v4h-4v-4z"></path></svg><button class="flex items-center gap-2 dark:bg-neutral-900 backdrop-blur border dark:border-neutral-700 rounded-md p-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button></div></div><div class="block lg:hidden"><div class="z-20 fixed shadow-sm sm:shadow-none lg:border-none dark:border-b dark:border-neutral-800 bg-light dark:bg-dark lg:!bg-transparent w-full p-5 lg:relative lg:p-0"><div class="flex items-start justify-between lg:flex-col lg:space-y-4 md:px-2"><div class="flex items-center lg:items-start gap-4 lg:gap-0.5 flex-grow lg:flex-col w-full"><div class="overflow-hidden h-full animate-pulse rounded-full"><img alt="luotianyou" fetchpriority="high" width="100" height="100" decoding="async" data-nimg="1" class="duration-700 ease-in-out scale-[1.02] blur-xl grayscale rounded-full lg:hover:scale-105" style="color:transparent" srcSet="/_next/image?url=%2Fimages%2Flty.jpg&amp;w=128&amp;q=100 1x, /_next/image?url=%2Fimages%2Flty.jpg&amp;w=256&amp;q=100 2x" src="/_next/image?url=%2Fimages%2Flty.jpg&amp;w=256&amp;q=100"/></div><div class="flex gap-2 items-center mt-1 lg:mt-4"><a href="/"><h2 class="flex-grow text-lg lg:text-xl font-sora font-medium">一杯清露冷如冰</h2></a><div class="relative inline-block"><div class="tooltip-container relative"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="text-blue-400" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M23 12l-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72l-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"></path></svg></div></div></div><div class="hidden lg:flex text-sm font-sora text-neutral-600 hover:text-neutral-700 dark:text-neutral-500 dark:hover:text-neutral-400 transition-all duration-300">@<!-- -->luotianyou</div></div><div class="flex items-center w-full justify-between"><div class="flex items-center gap-2"><div class="h-2 w-2 rounded-full bg-green-400"></div><span class="text-sm  text-neutral-600 dark:text-neutral-400 font-sora font-thin">Try to touch it!</span></div><style data-emotion="css oxsnso">.css-oxsnso .mode-toggle{width:0;height:0;margin:0;display:none;}.css-oxsnso .mode-toggle+label{display:inline-block;cursor:pointer;border-radius:25px;position:relative;}.css-oxsnso .mode-toggle+label::after{content:'';display:block;position:absolute;top:0;right:0;bottom:0;left:0;border-radius:1000px;-webkit-transition:box-shadow 150ms ease-in-out;transition:box-shadow 150ms ease-in-out;}.css-oxsnso .mode-toggle+label svg{vertical-align:middle;}.css-oxsnso .mode-toggle+label .source{-webkit-transition:fill,-webkit-transform 250ms ease-in-out;transition:fill,transform 250ms ease-in-out;}.css-oxsnso .mode-toggle+label .bg-stop-start,.css-oxsnso .mode-toggle+label .bg-stop-end{-webkit-transition:stop-color 150ms ease-in-out;transition:stop-color 150ms ease-in-out;}.css-oxsnso .mode-toggle+label .stars{-webkit-transition:50ms ease-in-out;transition:50ms ease-in-out;}.css-oxsnso .mode-toggle+label::after{box-shadow:inset 0 0 2px rgba(0, 0, 0, 0.25);}.css-oxsnso .mode-toggle+label .source{fill:#f7f7e7;-webkit-transform:translate(70%, 50%);-moz-transform:translate(70%, 50%);-ms-transform:translate(70%, 50%);transform:translate(70%, 50%);}.css-oxsnso .mode-toggle+label .bg-stop-start{stop-color:#93d4cc;}.css-oxsnso .mode-toggle+label .bg-stop-end{stop-color:#c7dfc3;}.css-oxsnso .mode-toggle+label .stars{-webkit-transform:translateX(100%);-moz-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}.css-oxsnso .mode-toggle:checked+label::after{box-shadow:none;}.css-oxsnso .mode-toggle:checked+label .source{fill:#ffffff;-webkit-transform:translate(30%, 50%);-moz-transform:translate(30%, 50%);-ms-transform:translate(30%, 50%);transform:translate(30%, 50%);}.css-oxsnso .mode-toggle:checked+label .bg-stop-start{stop-color:#173754;}.css-oxsnso .mode-toggle:checked+label .bg-stop-end{stop-color:#388296;}.css-oxsnso .mode-toggle:checked+label .stars{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}.css-oxsnso .mode-toggle:checked+label .star-1,.css-oxsnso .mode-toggle:checked+label .star-2,.css-oxsnso .mode-toggle:checked+label .star-3{-webkit-animation-name:star;animation-name:star;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;}.css-oxsnso .mode-toggle:checked+label .star-1{-webkit-animation-delay:0s;animation-delay:0s;}.css-oxsnso .mode-toggle:checked+label .star-2{-webkit-animation-delay:0.5s;animation-delay:0.5s;}.css-oxsnso .mode-toggle:checked+label .star-3{-webkit-animation-delay:1s;animation-delay:1s;}@-webkit-keyframes star{50%{opacity:0.25;}}@keyframes star{50%{opacity:0.25;}}</style><div class="flex css-oxsnso"><input type="checkbox" class="mode-toggle" id="switch-theme" data-umami-event="Switch to Light Mode"/><label class="mode-toggle-label" for="switch-theme"><svg width="45" height="25" viewBox="0 0 300 170" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="bg-night"><stop class="bg-stop-start" offset="0%"></stop><stop class="bg-stop-end" offset="100%"></stop></linearGradient><filter id="glow"><feDropShadow dx="0" dy="0" stdDeviation="8" flood-color="#ffffff" flood-opacity="0.75"></feDropShadow></filter><filter id="glow-mini"><feDropShadow dx="0" dy="0" stdDeviation="0.5" flood-color="#ffffff" flood-opacity="0.5"></feDropShadow></filter></defs><rect class="bg" width="300" height="170" rx="90" ry="90" fill="url(#bg-night)"></rect><circle class="source" cx="0" cy="0" r="70" fill="#ffffff" style="filter:url(#glow)"></circle><g class="stars"><circle class="star-1" cx="190" cy="50" r="4" fill="#ffffff" style="filter:url(#glow-mini)"></circle><circle class="star-2" cx="250" cy="70" r="4" fill="#ffffff" style="filter:url(#glow-mini)"></circle><circle class="star-3" cx="220" cy="130" r="6" fill="#ffffff" style="filter:url(#glow-mini)"></circle></g></svg></label></div></div></div></div></div></header><main class="transition-all duration-300"><article><div class="mt-20 mb-10 lg:mt-0 p-8 mb-10  " data-aos="fade-up"><div class="w-fit"><a href="/learn/typescript-decorator"><div class="flex gap-2 w-max hover:gap-3 items-center mb-6 transition-all duration-300 font-medium text-neutral-600 dark:text-neutral-400 cursor-pointer"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" data-testid="back-icon" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line></svg><span>Back</span></div></a></div><h1 class="text-2xl font-semibold" style="opacity:0;transform:translateY(-20px) translateZ(0)">10. A Useful Custom Decorator in Angular</h1><div class="flex flex-col sm:flex-row items-start lg:items-center gap-2 justify-between mb-6 pt-3 pb-6 border-b border-dashed border-neutral-600 text-neutral-600 dark:text-neutral-400 text-[14px]"><div># <!-- -->Typescript Decorator</div><div class="flex gap-4 items-center mt-1"><div class="relative inline-block"><div class="tooltip-container relative"><div class="px-2 py-1 text-xs font-medium rounded-full bg-neutral-200 dark:bg-neutral-700 text-neutral-500 dark:text-neutral-400">Medium</div></div></div><div class="relative inline-block"><div class="tooltip-container relative"></div></div></div></div><div class="article space-y-5 leading-[1.8] dark:text-neutral-300 mt-5"><div node="[object Object]">By customizing the <div class="w-full mt-12 mb-12 h-36"></div> interception scheme to convert data, we got this decorator.</div>
<h2 class="text-xl font-medium dark:text-neutral-300" id="Basic implementation" level="2" node="[object Object]">Basic implementation</h2>
<pre><div class="w-full mt-12 mb-12 h-36"></div></pre>
<h2 class="text-xl font-medium dark:text-neutral-300" id="Usages" level="2" node="[object Object]">Usages</h2>
<pre><div class="w-full mt-12 mb-12 h-36"></div></pre>
<h2 class="text-xl font-medium dark:text-neutral-300" id="One more thing" level="2" node="[object Object]">One more thing</h2>
<div node="[object Object]">You can find out this decorator in <a class="text-indigo-500 hover:text-indigo-400 hover:underline cursor-pointer" target="_self" href="https://github.com/rx-ts/ngrx/blob/master/src/utils/decorators.ts#L56" node="[object Object]">ObservableInput</a>, or similar decorator in <a class="text-indigo-500 hover:text-indigo-400 hover:underline cursor-pointer" target="_self" href="https://github.com/Futhark/ngx-observable-input" node="[object Object]">ngx-observable-input</a>.</div></div><div class="flex justify-between mt-8 border-t dark:border-neutral-700 border-gray-300 py-5"><a class="flex font-sora items-center gap-2 py-2 px-4 rounded-lg group
  text-neutral-700 dark:text-neutral-400 hover:text-neutral-900 hover:dark:text-neutral-300 
  hover:dark:lg:bg-neutral-800 hover:dark:!text-neutral-300 hover:lg:bg-neutral-200 hover:lg:rounded-lg lg:hover:scale-105 lg:transition-all lg:duration-300
" href="/learn/typescript-decorator/8-composition"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="group-hover:rotate-6 transition-all duration-300" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg><div class="flex items-center gap-1">Previous<span class="hidden lg:flex"> : <!-- -->9. Decorator Composition</span></div></a><div class="flex-grow"></div></div></div></article></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"slug":"10-custom-angular-decorator","frontMatter":{"id":9,"title":"10. A Useful Custom Decorator in Angular","category":"Typescript Decorator","language":"Typescript","difficulty":"Medium","source":null,"source_url":null,"created_at":"2024-03-05","updated_at":"2024-03-05","is_playground":false,"is_comment":false},"content":"By customizing the `getter/setter` interception scheme to convert data, we got this decorator.\n\n## Basic implementation\n\n```ts\nexport function ObservableInput\u003c\n  T = any,\n  SK extends keyof T = any,\n  K extends keyof T = any\n\u003e(propertyKey?: K | boolean, initialValue?: SubjectType\u003cT[SK]\u003e) {\n  return (target: T, sPropertyKey: SK) =\u003e {\n    const symbol = Symbol();\n\n    type ST = SubjectType\u003cT[SK]\u003e;\n\n    type Mixed = T \u0026 {\n      [symbol]: BehaviorSubject\u003cST\u003e;\n    } \u0026 Record\u003cSK, BehaviorSubject\u003cST\u003e\u003e;\n\n    Object.defineProperty(target, sPropertyKey, {\n      enumerable: true,\n      configurable: true,\n      get(this: Mixed) {\n        return (\n          this[symbol] || (this[symbol] = new BehaviorSubject\u003cST\u003e(initialValue))\n        );\n      },\n      set(this: Mixed, value: ST) {\n        this[sPropertyKey].next(value);\n      },\n    });\n\n    if (!propertyKey) {\n      return;\n    }\n\n    if (propertyKey === true) {\n      // Automatically match attribute names and remove the trailing $ symbol.\n      propertyKey = (sPropertyKey as string).replace(/\\$+$/, '') as K; \n    }\n\n    Object.defineProperty(target, propertyKey, {\n      enumerable: true,\n      configurable: true,\n      get(this: Mixed) {\n        return this[sPropertyKey].getValue();\n      },\n      set(this: Mixed, value: ST) {\n        this[sPropertyKey].next(value);\n      },\n    });\n  };\n}\n```\n\n## Usages\n\n```ts\n// Usage one\n@Component({})\nexport class DemoComponent {\n  @ObservableInput() // Automatically bind the value of \"name\", that is, remove the \"$\" symbol at the end of \"name$$\".\n  @Input('name')\n  name$$: Observable\u003cstring\u003e;\n\n  name: string;\n}\n\n// Usage three\n@Component({})\nexport class DemoComponent {\n  @ObservableInput('nameValue') // Automatically bind the value of nameValue Input.\n  name$$: Observable\u003cstring\u003e;\n\n  @Input()\n  nameValue: string;\n}\n```\n\n## One more thing\n\nYou can find out this decorator in [ObservableInput](https://github.com/rx-ts/ngrx/blob/master/src/utils/decorators.ts#L56), or similar decorator in [ngx-observable-input](https://github.com/Futhark/ngx-observable-input).\n","props":{"readingTimeMinutes":1,"description":"By customizing the `getter/setter` interception scheme to convert data, we got this decorator.\n\n##..."}},"prev":{"title":"9. Decorator Composition","href":"/learn/typescript-decorator/8-composition"},"next":null},"__N_SSG":true},"page":"/learn/[content]/[slug]","query":{"content":"typescript-decorator","slug":"10-custom-angular-decorator"},"buildId":"GiGSHyiQIUIlLDeXZc_tY","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>