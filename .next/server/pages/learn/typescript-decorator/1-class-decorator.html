<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@site"/><meta name="twitter:creator" content="@handle"/><meta property="og:image:alt" content="luotianyou&#x27;s coding journey og-image"/><meta property="og:image:width" content="800"/><meta property="og:image:height" content="600"/><meta property="og:image" content=""/><meta property="og:image:alt" content="luotianyou&#x27;s coding journey og-image"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image" content=""/><meta property="og:image:alt" content="luotianyou&#x27;s coding journey og-image"/><meta property="og:image:width" content="1600"/><meta property="og:image:height" content="900"/><link rel="preload" as="image" imageSrcSet="/_next/image?url=%2Fimages%2Flty.jpg&amp;w=128&amp;q=100 1x, /_next/image?url=%2Fimages%2Flty.jpg&amp;w=256&amp;q=100 2x" fetchpriority="high"/><title>Learn Typescript Decorator : 2. Class Decorator - luotianyou</title><meta name="robots" content="index,follow"/><meta name="description" content="Learn Typescript Decorator - 2. Class Decorator with detailed explanations"/><meta property="og:title" content="Learn Typescript Decorator : 2. Class Decorator - luotianyou"/><meta property="og:description" content="Learn Typescript Decorator - 2. Class Decorator with detailed explanations"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2024-02-29"/><meta property="article:modified_time" content="2024-02-29"/><meta property="article:author" content="luotianyou"/><meta property="og:image"/><meta property="og:site_name" content="luotianyou"/><meta name="next-head-count" content="28"/><link rel="apple-touch-icon" sizes="57x57" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="60x60" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="72x72" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="76x76" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="114x114" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="120x120" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="144x144" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="152x152" href="/images/logo.jpg"/><link rel="apple-touch-icon" sizes="180x180" href="/images/logo.jpg"/><link rel="icon" type="image/png" sizes="192x192" href="/images/logo.jpg"/><link rel="icon" type="image/png" sizes="32x32" href="/images/logo.jpg"/><link rel="icon" type="image/png" sizes="96x96" href="/images/logo.jpg"/><link rel="icon" type="image/png" sizes="16x16" href="/images/logo.jpg"/><link rel="preload" href="/_next/static/media/2b3f1035ed87a788-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/122c360d7fe6d395-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/a2117d63e64fe351-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/2f26b0ea482afd5a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2f26b0ea482afd5a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-e9ff243a1e13f503.js" defer=""></script><script src="/_next/static/chunks/framework-4b14d76c1e57931c.js" defer=""></script><script src="/_next/static/chunks/main-aa1490b0a7afc2fd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-89eb75bf250ca039.js" defer=""></script><script src="/_next/static/chunks/576b63aa-6089ace378e50cf6.js" defer=""></script><script src="/_next/static/chunks/989-c2c626898eb9f55f.js" defer=""></script><script src="/_next/static/chunks/175-b7b1985d8f3a5510.js" defer=""></script><script src="/_next/static/chunks/352-fea68a2a3b0b08ff.js" defer=""></script><script src="/_next/static/chunks/pages/learn/%5Bcontent%5D/%5Bslug%5D-2ad1551d1060d845.js" defer=""></script><script src="/_next/static/GiGSHyiQIUIlLDeXZc_tY/_buildManifest.js" defer=""></script><script src="/_next/static/GiGSHyiQIUIlLDeXZc_tY/_ssgManifest.js" defer=""></script><style id="__jsx-528159491">html{--jakartaSans-font:'__Plus_Jakarta_Sans_b457f1', '__Plus_Jakarta_Sans_Fallback_b457f1';--soraSans-font:'__Sora_071650', '__Sora_Fallback_071650';--firaCode-font:'__Fira_Code_74c79e', '__Fira_Code_Fallback_74c79e'}</style></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&false)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}else{c.add('dark')}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'dark'}catch(e){}}()</script><div class="max-w-6xl mx-auto lg:px-8"><div class="flex flex-col xl:pb-8"><header><div class="hidden lg:flex gap-5 items-center justify-between py-8 mx-8"><div class="flex items-center gap-5"><a href="/"><div class="overflow-hidden h-full animate-pulse rounded-full"><img alt="luotianyou" loading="lazy" width="40" height="40" decoding="async" data-nimg="1" class="duration-700 ease-in-out scale-[1.02] blur-xl grayscale rounded-full lg:hover:scale-105" style="color:transparent" srcSet="/_next/image?url=%2Fimages%2Flty.jpg&amp;w=48&amp;q=100 1x, /_next/image?url=%2Fimages%2Flty.jpg&amp;w=96&amp;q=100 2x" src="/_next/image?url=%2Fimages%2Flty.jpg&amp;w=96&amp;q=100"/></div></a><div class="flex items-center gap-3"><a href="/"><h2 class="flex-grow text-lg lg:text-xl font-sora font-medium">一杯清露冷如冰</h2></a><div class="relative inline-block"><div class="tooltip-container relative"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="text-blue-400" data-aos="flip-right" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M23 12l-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72l-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"></path></svg></div></div></div></div><div class="flex justify-between items-center gap-5"><style data-emotion="css oxsnso">.css-oxsnso .mode-toggle{width:0;height:0;margin:0;display:none;}.css-oxsnso .mode-toggle+label{display:inline-block;cursor:pointer;border-radius:25px;position:relative;}.css-oxsnso .mode-toggle+label::after{content:'';display:block;position:absolute;top:0;right:0;bottom:0;left:0;border-radius:1000px;-webkit-transition:box-shadow 150ms ease-in-out;transition:box-shadow 150ms ease-in-out;}.css-oxsnso .mode-toggle+label svg{vertical-align:middle;}.css-oxsnso .mode-toggle+label .source{-webkit-transition:fill,-webkit-transform 250ms ease-in-out;transition:fill,transform 250ms ease-in-out;}.css-oxsnso .mode-toggle+label .bg-stop-start,.css-oxsnso .mode-toggle+label .bg-stop-end{-webkit-transition:stop-color 150ms ease-in-out;transition:stop-color 150ms ease-in-out;}.css-oxsnso .mode-toggle+label .stars{-webkit-transition:50ms ease-in-out;transition:50ms ease-in-out;}.css-oxsnso .mode-toggle+label::after{box-shadow:inset 0 0 2px rgba(0, 0, 0, 0.25);}.css-oxsnso .mode-toggle+label .source{fill:#f7f7e7;-webkit-transform:translate(70%, 50%);-moz-transform:translate(70%, 50%);-ms-transform:translate(70%, 50%);transform:translate(70%, 50%);}.css-oxsnso .mode-toggle+label .bg-stop-start{stop-color:#93d4cc;}.css-oxsnso .mode-toggle+label .bg-stop-end{stop-color:#c7dfc3;}.css-oxsnso .mode-toggle+label .stars{-webkit-transform:translateX(100%);-moz-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}.css-oxsnso .mode-toggle:checked+label::after{box-shadow:none;}.css-oxsnso .mode-toggle:checked+label .source{fill:#ffffff;-webkit-transform:translate(30%, 50%);-moz-transform:translate(30%, 50%);-ms-transform:translate(30%, 50%);transform:translate(30%, 50%);}.css-oxsnso .mode-toggle:checked+label .bg-stop-start{stop-color:#173754;}.css-oxsnso .mode-toggle:checked+label .bg-stop-end{stop-color:#388296;}.css-oxsnso .mode-toggle:checked+label .stars{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}.css-oxsnso .mode-toggle:checked+label .star-1,.css-oxsnso .mode-toggle:checked+label .star-2,.css-oxsnso .mode-toggle:checked+label .star-3{-webkit-animation-name:star;animation-name:star;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;}.css-oxsnso .mode-toggle:checked+label .star-1{-webkit-animation-delay:0s;animation-delay:0s;}.css-oxsnso .mode-toggle:checked+label .star-2{-webkit-animation-delay:0.5s;animation-delay:0.5s;}.css-oxsnso .mode-toggle:checked+label .star-3{-webkit-animation-delay:1s;animation-delay:1s;}@-webkit-keyframes star{50%{opacity:0.25;}}@keyframes star{50%{opacity:0.25;}}</style><div class="flex css-oxsnso"><input type="checkbox" class="mode-toggle" id="switch-theme" data-umami-event="Switch to Light Mode"/><label class="mode-toggle-label" for="switch-theme"><svg width="45" height="25" viewBox="0 0 300 170" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="bg-night"><stop class="bg-stop-start" offset="0%"></stop><stop class="bg-stop-end" offset="100%"></stop></linearGradient><filter id="glow"><feDropShadow dx="0" dy="0" stdDeviation="8" flood-color="#ffffff" flood-opacity="0.75"></feDropShadow></filter><filter id="glow-mini"><feDropShadow dx="0" dy="0" stdDeviation="0.5" flood-color="#ffffff" flood-opacity="0.5"></feDropShadow></filter></defs><rect class="bg" width="300" height="170" rx="90" ry="90" fill="url(#bg-night)"></rect><circle class="source" cx="0" cy="0" r="70" fill="#ffffff" style="filter:url(#glow)"></circle><g class="stars"><circle class="star-1" cx="190" cy="50" r="4" fill="#ffffff" style="filter:url(#glow-mini)"></circle><circle class="star-2" cx="250" cy="70" r="4" fill="#ffffff" style="filter:url(#glow-mini)"></circle><circle class="star-3" cx="220" cy="130" r="6" fill="#ffffff" style="filter:url(#glow-mini)"></circle></g></svg></label></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="cursor-pointer" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M6 14c-2.206 0-4 1.794-4 4s1.794 4 4 4a4.003 4.003 0 0 0 3.998-3.98H10V16h4v2.039h.004A4.002 4.002 0 0 0 18 22c2.206 0 4-1.794 4-4s-1.794-4-4-4h-2v-4h2c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4v2h-4V5.98h-.002A4.003 4.003 0 0 0 6 2C3.794 2 2 3.794 2 6s1.794 4 4 4h2v4H6zm2 4c0 1.122-.879 2-2 2s-2-.878-2-2 .879-2 2-2h2v2zm10-2c1.121 0 2 .878 2 2s-.879 2-2 2-2-.878-2-2v-2h2zM16 6c0-1.122.879-2 2-2s2 .878 2 2-.879 2-2 2h-2V6zM6 8c-1.121 0-2-.878-2-2s.879-2 2-2 2 .878 2 2v2H6zm4 2h4v4h-4v-4z"></path></svg><button class="flex items-center gap-2 dark:bg-neutral-900 backdrop-blur border dark:border-neutral-700 rounded-md p-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button></div></div><div class="block lg:hidden"><div class="z-20 fixed shadow-sm sm:shadow-none lg:border-none dark:border-b dark:border-neutral-800 bg-light dark:bg-dark lg:!bg-transparent w-full p-5 lg:relative lg:p-0"><div class="flex items-start justify-between lg:flex-col lg:space-y-4 md:px-2"><div class="flex items-center lg:items-start gap-4 lg:gap-0.5 flex-grow lg:flex-col w-full"><div class="overflow-hidden h-full animate-pulse rounded-full"><img alt="luotianyou" fetchpriority="high" width="100" height="100" decoding="async" data-nimg="1" class="duration-700 ease-in-out scale-[1.02] blur-xl grayscale rounded-full lg:hover:scale-105" style="color:transparent" srcSet="/_next/image?url=%2Fimages%2Flty.jpg&amp;w=128&amp;q=100 1x, /_next/image?url=%2Fimages%2Flty.jpg&amp;w=256&amp;q=100 2x" src="/_next/image?url=%2Fimages%2Flty.jpg&amp;w=256&amp;q=100"/></div><div class="flex gap-2 items-center mt-1 lg:mt-4"><a href="/"><h2 class="flex-grow text-lg lg:text-xl font-sora font-medium">一杯清露冷如冰</h2></a><div class="relative inline-block"><div class="tooltip-container relative"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="text-blue-400" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M23 12l-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72l-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"></path></svg></div></div></div><div class="hidden lg:flex text-sm font-sora text-neutral-600 hover:text-neutral-700 dark:text-neutral-500 dark:hover:text-neutral-400 transition-all duration-300">@<!-- -->luotianyou</div></div><div class="flex items-center w-full justify-between"><div class="flex items-center gap-2"><div class="h-2 w-2 rounded-full bg-green-400"></div><span class="text-sm  text-neutral-600 dark:text-neutral-400 font-sora font-thin">Try to touch it!</span></div><style data-emotion="css oxsnso">.css-oxsnso .mode-toggle{width:0;height:0;margin:0;display:none;}.css-oxsnso .mode-toggle+label{display:inline-block;cursor:pointer;border-radius:25px;position:relative;}.css-oxsnso .mode-toggle+label::after{content:'';display:block;position:absolute;top:0;right:0;bottom:0;left:0;border-radius:1000px;-webkit-transition:box-shadow 150ms ease-in-out;transition:box-shadow 150ms ease-in-out;}.css-oxsnso .mode-toggle+label svg{vertical-align:middle;}.css-oxsnso .mode-toggle+label .source{-webkit-transition:fill,-webkit-transform 250ms ease-in-out;transition:fill,transform 250ms ease-in-out;}.css-oxsnso .mode-toggle+label .bg-stop-start,.css-oxsnso .mode-toggle+label .bg-stop-end{-webkit-transition:stop-color 150ms ease-in-out;transition:stop-color 150ms ease-in-out;}.css-oxsnso .mode-toggle+label .stars{-webkit-transition:50ms ease-in-out;transition:50ms ease-in-out;}.css-oxsnso .mode-toggle+label::after{box-shadow:inset 0 0 2px rgba(0, 0, 0, 0.25);}.css-oxsnso .mode-toggle+label .source{fill:#f7f7e7;-webkit-transform:translate(70%, 50%);-moz-transform:translate(70%, 50%);-ms-transform:translate(70%, 50%);transform:translate(70%, 50%);}.css-oxsnso .mode-toggle+label .bg-stop-start{stop-color:#93d4cc;}.css-oxsnso .mode-toggle+label .bg-stop-end{stop-color:#c7dfc3;}.css-oxsnso .mode-toggle+label .stars{-webkit-transform:translateX(100%);-moz-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}.css-oxsnso .mode-toggle:checked+label::after{box-shadow:none;}.css-oxsnso .mode-toggle:checked+label .source{fill:#ffffff;-webkit-transform:translate(30%, 50%);-moz-transform:translate(30%, 50%);-ms-transform:translate(30%, 50%);transform:translate(30%, 50%);}.css-oxsnso .mode-toggle:checked+label .bg-stop-start{stop-color:#173754;}.css-oxsnso .mode-toggle:checked+label .bg-stop-end{stop-color:#388296;}.css-oxsnso .mode-toggle:checked+label .stars{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}.css-oxsnso .mode-toggle:checked+label .star-1,.css-oxsnso .mode-toggle:checked+label .star-2,.css-oxsnso .mode-toggle:checked+label .star-3{-webkit-animation-name:star;animation-name:star;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;}.css-oxsnso .mode-toggle:checked+label .star-1{-webkit-animation-delay:0s;animation-delay:0s;}.css-oxsnso .mode-toggle:checked+label .star-2{-webkit-animation-delay:0.5s;animation-delay:0.5s;}.css-oxsnso .mode-toggle:checked+label .star-3{-webkit-animation-delay:1s;animation-delay:1s;}@-webkit-keyframes star{50%{opacity:0.25;}}@keyframes star{50%{opacity:0.25;}}</style><div class="flex css-oxsnso"><input type="checkbox" class="mode-toggle" id="switch-theme" data-umami-event="Switch to Light Mode"/><label class="mode-toggle-label" for="switch-theme"><svg width="45" height="25" viewBox="0 0 300 170" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="bg-night"><stop class="bg-stop-start" offset="0%"></stop><stop class="bg-stop-end" offset="100%"></stop></linearGradient><filter id="glow"><feDropShadow dx="0" dy="0" stdDeviation="8" flood-color="#ffffff" flood-opacity="0.75"></feDropShadow></filter><filter id="glow-mini"><feDropShadow dx="0" dy="0" stdDeviation="0.5" flood-color="#ffffff" flood-opacity="0.5"></feDropShadow></filter></defs><rect class="bg" width="300" height="170" rx="90" ry="90" fill="url(#bg-night)"></rect><circle class="source" cx="0" cy="0" r="70" fill="#ffffff" style="filter:url(#glow)"></circle><g class="stars"><circle class="star-1" cx="190" cy="50" r="4" fill="#ffffff" style="filter:url(#glow-mini)"></circle><circle class="star-2" cx="250" cy="70" r="4" fill="#ffffff" style="filter:url(#glow-mini)"></circle><circle class="star-3" cx="220" cy="130" r="6" fill="#ffffff" style="filter:url(#glow-mini)"></circle></g></svg></label></div></div></div></div></div></header><main class="transition-all duration-300"><article><div class="mt-20 mb-10 lg:mt-0 p-8 mb-10  " data-aos="fade-up"><div class="w-fit"><a href="/learn/typescript-decorator"><div class="flex gap-2 w-max hover:gap-3 items-center mb-6 transition-all duration-300 font-medium text-neutral-600 dark:text-neutral-400 cursor-pointer"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" data-testid="back-icon" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line></svg><span>Back</span></div></a></div><h1 class="text-2xl font-semibold" style="opacity:0;transform:translateY(-20px) translateZ(0)">2. Class Decorator</h1><div class="flex flex-col sm:flex-row items-start lg:items-center gap-2 justify-between mb-6 pt-3 pb-6 border-b border-dashed border-neutral-600 text-neutral-600 dark:text-neutral-400 text-[14px]"><div># <!-- -->Typescript Decorator</div><div class="flex gap-4 items-center mt-1"><div class="relative inline-block"><div class="tooltip-container relative"><div class="px-2 py-1 text-xs font-medium rounded-full bg-neutral-200 dark:bg-neutral-700 text-neutral-500 dark:text-neutral-400">Medium</div></div></div><div class="relative inline-block"><div class="tooltip-container relative"></div></div></div></div><div class="article space-y-5 leading-[1.8] dark:text-neutral-300 mt-5"><h2 class="text-xl font-medium dark:text-neutral-300" id="Class decorator" level="2" node="[object Object]">Class decorator</h2>
<div node="[object Object]"><a class="text-indigo-500 hover:text-indigo-400 hover:underline cursor-pointer" target="_self" href="https://www.typescriptlang.org/docs/handbook/decorators.html" node="[object Object]">Official TS Docs</a> provide an example of a class decorator that you can look at, too. Class decorators just pass our original class into the decorator annotation to process the class or the class prototype. That&#x27;s it.</div>
<pre><div class="w-full mt-12 mb-12 h-36"></div></pre>
<h2 class="text-xl font-medium dark:text-neutral-300" id="Decorator Factory" level="2" node="[object Object]">Decorator Factory</h2>
<div node="[object Object]">The above method adds a <div class="w-full mt-12 mb-12 h-36"></div> decorator to the <div class="w-full mt-12 mb-12 h-36"></div>, and the properties of this decorator will override the default properties of the <div class="w-full mt-12 mb-12 h-36"></div>. In order to conveniently add other parameters to the decorator, we transform <div class="w-full mt-12 mb-12 h-36"></div> into a decorator factory as follows:</div>
<pre><div class="w-full mt-12 mb-12 h-36"></div></pre>
<h2 class="text-xl font-medium dark:text-neutral-300" id="Other usages" level="2" node="[object Object]">Other usages</h2>
<div node="[object Object]">We can also assign or override properties or methods on the class prototype chain <div class="w-full mt-12 mb-12 h-36"></div>, as well as static properties and methods of the class itself. We can also overload the constructor function.</div>
<pre><div class="w-full mt-12 mb-12 h-36"></div></pre></div><div class="flex justify-between mt-8 border-t dark:border-neutral-700 border-gray-300 py-5"><a class="flex font-sora items-center gap-2 py-2 px-4 rounded-lg group
  text-neutral-700 dark:text-neutral-400 hover:text-neutral-900 hover:dark:text-neutral-300 
  hover:dark:lg:bg-neutral-800 hover:dark:!text-neutral-300 hover:lg:bg-neutral-200 hover:lg:rounded-lg lg:hover:scale-105 lg:transition-all lg:duration-300
" href="/learn/typescript-decorator/0-introduction"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="group-hover:rotate-6 transition-all duration-300" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg><div class="flex items-center gap-1">Previous<span class="hidden lg:flex"> : <!-- -->1. Introduction</span></div></a><div class="flex-grow"></div><a class="flex font-sora items-center gap-2 py-2 px-4 rounded-lg group
  text-neutral-700 dark:text-neutral-400 hover:text-neutral-900 hover:dark:text-neutral-300 
  hover:dark:lg:bg-neutral-800 hover:dark:!text-neutral-300 hover:lg:bg-neutral-200 hover:lg:rounded-lg lg:hover:scale-105 lg:transition-all lg:duration-300
" href="/learn/typescript-decorator/2-property-decorator"><div class="flex items-center gap-1">Next<span class="hidden lg:flex"> : <!-- -->3. Property Decorator</span></div><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="group-hover:-rotate-6 transition-all duration-300" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></a></div></div></article></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"slug":"1-class-decorator","frontMatter":{"id":1,"title":"2. Class Decorator","category":"Typescript Decorator","language":"Typescript","difficulty":"Medium","source":null,"source_url":null,"created_at":"2024-02-29","updated_at":"2024-02-29","is_playground":false,"is_comment":false},"content":"## Class decorator\n\n[Official TS Docs](https://www.typescriptlang.org/docs/handbook/decorators.html) provide an example of a class decorator that you can look at, too. Class decorators just pass our original class into the decorator annotation to process the class or the class prototype. That's it.\n\n```typescript\nconst HelloDerorator = \u003cT extends new (...args: any[]) =\u003e any\u003e(\n    constructor: T,\n) =\u003e {\n    return class extends constructor {\n        newProperty = 'new property';\n        hello = 'override';\n        sayHello() {\n            return this.hello;\n        }\n    };\n};\n\n@HelloDerorator\nexport class Hello {\n    [key: string]: any; // This is used to prevent eslint from prompting that the sayHello method does not exist\n    hello: string;\n    constructor() {\n        this.hello = 'test';\n    }\n}\n\nconst exp2 = () =\u003e {\n    console.log(\n        '-----------------------Simple Class Decorators-----------------------',\n    );\n    console.log(\n        '-----------------------Dynamically add a sayHello method and override the value of hello.-----------------------',\n    );\n    console.log();\n    const hello = new Hello();\n    console.log(hello.sayHello());\n    console.log();\n    console.log('-----------------------End-----------------------');\n};\n\n\n// console override\n```\n\n## Decorator Factory\n\nThe above method adds a `HelloDerorator` decorator to the `UserService`, and the properties of this decorator will override the default properties of the `UserService`. In order to conveniently add other parameters to the decorator, we transform `HelloDerorator` into a decorator factory as follows:\n\n```typescript\nconst SetNameDecorator = (firstname: string, lastname: string) =\u003e {\n    const name = `${firstname}.${lastname}`;\n    return \u003cT extends new (...args: any[]) =\u003e any\u003e(target: T) =\u003e {\n        return class extends target {\n            _name: string = name;\n\n            getMyName() {\n                return this._name;\n            }\n        };\n    };\n};\n\n@SetNameDecorator('Brian', 'Shen')\nclass UserService {\n    c() {}\n}\n\nconst exp3 = () =\u003e {\n    console.log();\n    console.log(\n        '-----------------------Decorator Factory-----------------------',\n    );\n    console.log(\n        '-----------------------Override the getName method through inheritance-----------------------',\n    );\n    console.log();\n    const user = new UserService();\n    console.log(user.getMyName());\n    console.log();\n    console.log('-----------------------End-----------------------');\n};\n\n// console Brian.Shen\n```\n\n## Other usages\n\nWe can also assign or override properties or methods on the class prototype chain `prototype`, as well as static properties and methods of the class itself. We can also overload the constructor function.\n\n```typescript\ntype UserProfile = Record\u003cstring, any\u003e \u0026 {\n    phone?: number;\n    address?: string;\n};\n\nconst ProfileDecorator = (profile: UserProfile) =\u003e (target: any) =\u003e {\n    const Original = target;\n    let userinfo = '';\n    Object.keys(profile).forEach((key) =\u003e {\n        userinfo = `${userinfo}.${profile[key].toString()}`;\n    });\n    // Add a prototype property\n    Original.prototype.userinfo = userinfo;\n    // Use a function to create a new class (class constructor), with the return value being an object of the passed-in class, thus overloading the constructor.\n    function constructor(...args: any[]) {\n        console.log('contruct has been changed');\n        return new Original(...args);\n    }\n    // Assignment of prototypes\n    constructor.prototype = Original.prototype;\n    // Add a static property\n    constructor.myinfo = `myinfo ${userinfo}`;\n    return constructor as typeof Original;\n};\n\n// ecause static properties cannot obtain type prompts through [key: string]: any;, an interface is added here to dynamically add static properties of various types\ninterface StaticUser {\n    new (): UserProfile;\n    myinfo: string;\n}\n\n@ProfileDecorator({ phone: 133, address: 'zhejiang' })\nclass ProfileService {}\n\nconst exp4 = () =\u003e {\n    console.log();\n    console.log(\n        '-----------------------The construction function, prototype properties, static properties, etc. of the repair class.-----------------------',\n    );\n    console.log(\n        '-----------------------Set prototype property values, overload constructor methods, add static properties.-----------------------',\n    );\n    console.log();\n    console.log((ProfileService as unknown as StaticUser).myinfo);\n    const profile = new ProfileService();\n    console.log((profile as any).userinfo);\n    console.log();\n    console.log('-----------------------End-----------------------');\n};\nexp4();\n// console myinfo .133.zhejiang\n// console contruct has been changed\n// console .133.zhejiang\n```\n","props":{"readingTimeMinutes":1,"description":"## Class decorator\n\n[Official TS..."}},"prev":{"title":"1. Introduction","href":"/learn/typescript-decorator/0-introduction"},"next":{"title":"3. Property Decorator","href":"/learn/typescript-decorator/2-property-decorator"}},"__N_SSG":true},"page":"/learn/[content]/[slug]","query":{"content":"typescript-decorator","slug":"1-class-decorator"},"buildId":"GiGSHyiQIUIlLDeXZc_tY","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>